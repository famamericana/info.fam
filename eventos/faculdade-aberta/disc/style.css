   @import url('https://fonts.googleapis.com/css2?family=Source+Sans+3:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

   /* Theme variables: default = dark. Add class 'light' on <html> to switch */
   :root {
       --bg: #0e0f12;
       --card: #16181d;
       --text: #e7e9ee;
       --muted: #9aa3b2;
       --accent: #45b7e5;
       --line: #262a33;
       --header-bg: rgba(18, 18, 18, 0.88);
       --header-text: #eee;
       --progress-bg: #333;
   }

   :root.light {
       --bg: #ffffff;
       --card: #f7f8fa;
       --text: #0e0f12;
       --muted: #475069;
       --accent: #45b7e5;
       --line: #e5e7eb;
       --header-bg: rgba(255, 255, 255, 0.92);
       --header-text: #333;
       --progress-bg: #e5e7eb;
   }

   body {
       margin: 0;
       font-family: 'Source Sans 3', sans-serif;
       background: var(--bg);
       color: var(--text)
   }

   /* theme controlled via :root and :root.light variables */

   .container {
       max-width: 980px;
       margin: 24px auto;
       padding: 0 16px
   }

   .header {
       display: flex;
       align-items: center;
       justify-content: space-between;
       gap: 12px;
       margin-bottom: 10px
   }

   h1 {
       margin: 0;
       font-size: 22px
   }

   .toggle {
       width: 46px;
       height: 26px;
       appearance: none;
       background: #3a3f4b;
       border-radius: 999px;
       position: relative;
       outline: none;
       cursor: pointer
   }

   .toggle:checked {
       background: #cbd5e1
   }

   .toggle::after {
       content: "";
       position: absolute;
       top: 3px;
       left: 3px;
       width: 20px;
       height: 20px;
       border-radius: 50%;
       background: #fff;
       transition: .2s
   }

   .toggle:checked::after {
       left: 23px;
       background: #0f172a
   }

   .progress {
       height: 6px;
       background: var(--line);
       border-radius: 999px;
       overflow: hidden;
       margin: 6px 0
   }



   .progress span {
       display: block;
       height: 100%;
       width: 0;
       background: var(--accent)
   }

   .warning {
       font-size: 12px;
       border: 1px solid #ffa55b;
       border-radius: 999px;
       padding: 6px 10px;
       border-radius: 999px;
       font-weight: 600;
   }

   .card {
       background: var(--card);
       border: 1px solid var(--line);
       border-radius: 12px;
       padding: 16px;
       margin: 14px 0
   }



   .badge {
       font-size: 12px;

       border: 1px solid var(--accent);
       border-radius: 999px;
       padding: 6px 10px;
       border-radius: 999px;
       font-weight: 600;
   }

   .row {
       display: grid;
       grid-template-columns: 1fr 90px 90px;
       gap: 10px;
       padding: 8px 0;
       border-bottom: 1px dashed var(--line)
   }

   body .card .row:last-child {
       border-bottom: none;
   }

   .row>div:first-child {
       display: flex;
       gap: 10px
   }

   .anchor {
       scroll-margin-top: 12px
   }

   .flex {
       display: flex;
       gap: 16px;
       align-items: flex-start;
       flex-wrap: wrap;
       align-items: center;
   }

   .canvasWrap {
       display: grid;
       grid-template-columns: repeat(3, minmax(240px, 1fr));
       gap: 14px
   }

   .canvasBox {
       position: relative;
       min-height: 260px
   }

   .canvasTitle {
       position: absolute;
       top: 8px;
       left: 8px;
       font-size: 12px;
       color: var(--muted)
   }

   .table-mini {
       border-collapse: collapse;
       min-width: 180px;
   }

   .table-mini th,
   .table-mini td {
       border: 1px solid var(--line);
       padding: 8px 10px;
       text-align: center
   }



   .table-like {
       border-collapse: collapse;
       width: 100%
   }

   .table-like th,
   .table-like td {
       border: 1px solid var(--line);
       padding: 10px
   }



   .pill {
       display: inline-block;
       border: 1px solid var(--line);
       padding: 4px 10px;
       border-radius: 999px;
       font-size: 12px;
       margin-right: 6px
   }

   .recommend {
       display: grid;
       grid-template-columns: 1fr;
       gap: 6px
   }

   @media(min-width:720px) {
       .recommend {
           grid-template-columns: 1fr 1fr
       }
   }

   button {
       background: var(--accent);
       color: #fff;
       border: none;
       padding: 10px 14px;
       border-radius: 10px;
       font-weight: 600;
       cursor: pointer
   }

   button:disabled {
       opacity: .5;
       cursor: not-allowed
   }

   small {
       color: var(--muted)
   }



   /* sticky header that contains title, theme toggle, progress and badge */
   #stickyHeader {
       position: sticky;
       top: 0;
       z-index: 60;
       backdrop-filter: blur(4px);
       background: var(--header-bg);
       color: var(--header-text);
       padding: 10px 12px;
       border-bottom: 1px solid rgba(0, 0, 0, 0.06);
   }

   #stickyHeader .topRow {
       display: flex;
       align-items: center;
       justify-content: space-between;
       gap: 12px;
   }

   #stickyHeader .metaRow {
       display: flex;
       align-items: center;
       gap: 12px;
       margin-top: 8px;
       flex-wrap: wrap
   }




   .progress {
       flex: 1;
       min-width: 180px;
   }

   /* keep single .progress span definition earlier in file (uses var(--accent) for fill)
       this later duplicate is removed to rely on variables */

   #progressBar {
       display: block;
       height: 10px;
       background: var(--accent);
       width: 0%;
   }

   /* Fix scroll position to avoid navbar covering content */
   #groups {
       padding-top: 20px;
   }

   .card.anchor {
       scroll-margin-top: 112px;
   }

   /* Email input styling */
   #emailInput {
       background: var(--bg);
       color: var(--text);
       border: 1px solid var(--line);
   }

   #emailInput:focus {
       outline: none;
       border-color: var(--accent);
       box-shadow: 0 0 0 2px rgba(69, 183, 229, 0.2);
   }

   #btnEnviarEmail {
       background: #16a34a;
       transition: background 0.2s;
   }

   #btnEnviarEmail:hover:not(:disabled) {
       background: #15803d;
   }

   #btnEnviarEmail:disabled {
       background: #9ca3af;
       cursor: not-allowed;
   }

   #emailStatus.success {
       color: #16a34a;
       display: block !important;
   }

   #emailStatus.error {
       color: #dc2626;
       display: block !important;
   }

   #emailStatus.loading {
       color: var(--accent);
       display: block !important;
   }

   /* ==========================
      RESPONSIVE ADJUSTMENTS
      - Improve usability on phones
      - Collapse grids and widen touch targets
   ========================== */

   /* Medium screens: reduce chart columns to 2 */
   @media (max-width: 960px) {
       .canvasWrap {
           grid-template-columns: repeat(2, minmax(220px, 1fr));
       }
       .container {
           margin: 16px auto;
           padding: 0 12px;
       }
   }

   /* Small screens: phone-friendly layout */
   @media (max-width: 640px) {
       html, body {
           -webkit-text-size-adjust: 100%;
       }

       h1 {
           font-size: 18px;
       }

       .container {
           margin: 12px auto;
           padding: 0 10px;
       }

       /* Question row: text spans full width; controls side-by-side below */
       .row {
           grid-template-columns: 1fr 1fr;
           grid-template-areas:
               "text text"
               "more less";
           align-items: center;
           gap: 8px;
           padding: 10px 0;
       }
       .row > div:nth-child(1) { grid-area: text; }
       .row > div:nth-child(2) { grid-area: more; }
       .row > div:nth-child(3) { grid-area: less; }
       .row > div:nth-child(2),
       .row > div:nth-child(3) {
           display: flex;
           align-items: center;
           justify-content: center;
       }

        /* Larger touch targets for radios */
       input[type="radio"] {
           width: 20px;
           height: 20px;
       }

       /* Charts: single column stack and smaller min-height */
       .canvasWrap {
           grid-template-columns: 1fr;
       }
       .canvasBox {
           min-height: 220px;
       }

       /* Tables: enable horizontal scroll if needed */
       .table-like,
       .table-mini {
           display: block;
           width: 100%;
           overflow-x: auto;
           -webkit-overflow-scrolling: touch;
           white-space: nowrap;
       }

       /* Email input and actions: full width */
       #emailInput {
           width: 100%;
           box-sizing: border-box;
       }

       /* The action bar before results uses inline styles.
          This selector helps wrap buttons on small screens. */
       div[style*="display:flex"][style*="justify-content:flex-end"] {
           flex-wrap: wrap;
           justify-content: flex-start;
           gap: 8px;
       }
       div[style*="display:flex"][style*="justify-content:flex-end"] > button,
       div[style*="display:flex"][style*="justify-content:flex-end"] > * button {
           flex: 1 1 100%;
       }

       /* Sticky header: compact padding */
       #stickyHeader {
           padding: 8px 10px;
       }
       .card.anchor {
           scroll-margin-top: 96px;
       }
   }