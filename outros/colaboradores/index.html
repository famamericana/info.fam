<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Login + Firebase Database</title>
    <!-- Our stylesheet -->
    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">

</head>

<body>

    <div id="loadingScreen">
        <p>Carregando...</p>
    </div>

    <!-- Conteúdo após o login -->
    <div id="post_login_content" style="display:none;">
        <h2>Bem-vindo</h2>

        <!-- Conteúdo que aparece após o usuário logar -->
        <div id="post_login_content_firestore"></div>

        <button id="logout_button" onclick="logout()">Logout</button>
    </div>

    <div id="content_container">
        <!-- Botão para alternar entre os formulários -->
        <button id="toggleFormButton" onclick="toggleForm()">Precisa Registrar?</button>

        <!-- Formulário de Login -->
        <div id="login_form_container" style="display:block;">
            <h2>Login</h2>
            <input type="email" id="login_email" placeholder="Email">
            <div class="password-container">
                <input type="password" id="login_password" placeholder="Password">
                <i class="fa-solid fa-eye toggle-password"
                    onclick="togglePasswordVisibility('login_password', this)"></i>
            </div>
            <button onclick="login()">Login</button>
            <button onclick="sendPasswordResetEmail()">Esqueci minha senha</button>
        </div>

        <!-- Formulário de Registro -->
        <div id="register_form_container" style="display:none;">
            <h2>Register</h2>
            <input type="text" id="register_full_name" placeholder="Full name">
            <input type="email" id="register_email" placeholder="Email">
            <div class="password-container">
                <input type="password" id="register_password" placeholder="Password">
                <i class="fa-solid fa-eye toggle-password"
                    onclick="togglePasswordVisibility('register_password', this)"></i>
            </div>
            <div class="password-container">
                <input type="password" id="register_confirm_password" placeholder="Confirm Password">
                <i class="fa-solid fa-eye toggle-password"
                    onclick="togglePasswordVisibility('register_confirm_password', this)"></i>
            </div>
            <input type="text" id="register_departamento_nome" placeholder="Departamento">
            <button onclick="register()">Register</button>
        </div>

    </div>
</body>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>


<!-- Our script must be loaded after firebase references -->
<script src="index.js"></script>

</html>