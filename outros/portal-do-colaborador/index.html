<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Portal do colaborador FAM</title>
    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="icon" href="/images-gerais/famlogo.png">

</head>

<body>
    <button id="toggleDarkModeButton">
        <i id="lightModeIcon" class="fa-solid fa-sun"></i>
        <i id="darkModeIcon" class="fa-solid fa-moon" style="display: none;"></i>
    </button>

    <div id="loadingScreen">
        <svg class="pl" viewBox="0 0 200 200" width="200" height="200" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="pl-grad1" x1="1" y1="0.5" x2="0" y2="0.5">
                    <stop offset="0%" stop-color="hsla(332, 77%, 56%, 1)" />
                    <stop offset="100%" stop-color="hsla(267, 44%, 38%, 1)" />
                </linearGradient>
                <linearGradient id="pl-grad2" x1="0" y1="0" x2="0" y2="1">
                    <stop offset="0%" stop-color="hsla(332, 77%, 56%, 1)" />
                    <stop offset="100%" stop-color="hsla(267, 44%, 38%, 1)" />
                </linearGradient>
            </defs>
            <circle class="pl__ring" cx="100" cy="100" r="82" fill="none" stroke="url(#pl-grad1)" stroke-width="36"
                stroke-dasharray="0 257 1 257" stroke-dashoffset="0.01" stroke-linecap="round"
                transform="rotate(-90,100,100)" />
            <line class="pl__ball" stroke="url(#pl-grad2)" x1="100" y1="18" x2="100.01" y2="182" stroke-width="36"
                stroke-dasharray="1 165" stroke-linecap="round" />
        </svg>
    </div>

    <!-- Conteúdo após o login e a conta está dormente -->
    <div id="post_login_content_dormente" style="display: none;">
        <!-- Conteúdo para usuários dormentes -->
        <p>Sua conta está dormente. Entre em contato com um dos administradores.</p>
        <button title="Logout" id="logout_button" onclick="logout()"><i
                class="fa-solid fa-right-to-bracket"></i></button>
    </div>

    <!-- Conteúdo após o login -->
    <div id="post_login_content">
        <div class="conteudoemsi">
        <button id="toggleButton"><i class="fa-solid fa-user-graduate"></i></button>

        <button id="toggleButtonADM">Abrir/Fechar Painel</button>

        <div id="adminPanel" style="display: none;">
            <!-- Seção de Administradores -->
            <h2>Administradores</h2>
            <div id="adminsList"></div>

            <!-- Seção de Usuários Aprovados -->
            <h2>Usuários Ativos</h2>
            <div id="activeUsersList"></div>

            <!-- Seção de Usuários Aprovados -->
            <h2>Usuários Dormentes</h2>
            <div id="dormantUsersList"></div>

        </div>


        <div class="usuariopções">
            <div style="display: flex;">
                <input class="Namebotão" type="text" id="newName" placeholder="Nome Atual" disabled>
                <button id="editNameButton"><i class="fa fa-edit"></i></button>
            </div>
            <div>
                <button id="updateNameButton" onclick="updateName()">Atualizar Nome</button>

                <button title="Logout" id="logout_button" onclick="logout()"><i
                        class="fa-solid fa-right-to-bracket"></i></button>
            </div>

            <div id="lastLoginDate">Último Login: </div>
            <div id="accountCreationDate">Criação da Conta: </div>
            <button id="deleteAccountButton">Excluir Conta</button>


        </div>

        <h2 id="Nomeatual"></h2>

        <p>Todos os documentos que você precisa estará aqui e se não estiver ou tiver ideias clique >aqui< e sugira</p>

                <!-- Conteúdo que aparece após o usuário logar -->
                <div id="post_login_content_firestoreDocumentos"></div>
            </div>
                <div id="meuFooter"></div>
    </div>

    </div>

    <div class="containerdelogin">
        <div id="content_container">
            <!-- Formulário de Login -->
            <div id="login_form_container" style="display:block;">
                <h2>Login</h2>
                <div class="form-group">
                    <input type="email" id="login_email" placeholder=" ">
                    <label for="login_email">@fam.br</label>
                </div>
                <div class="form-group password-container">
                    <input type="password" id="login_password" placeholder=" ">
                    <label for="login_password">Senha</label>
                    <i class="fa-solid fa-eye toggle-password"
                        onclick="togglePasswordVisibility('login_password', this)"></i>
                </div>
                <button class="esquecisenha" onclick="sendPasswordResetEmail()">Esqueci minha senha</button>
                <div class="botoescontainer">
                    <button class="loginbotão" onclick="login()">Login</button>
                    <!-- Botão para alternar para o formulário de registro -->
                    <button id="toggleFormButtonRegistrar" onclick="toggleForm()">Criar conta</button>
                </div>

            </div>


            <!-- Formulário de Registro -->
            <div id="register_form_container" style="display:none;">
                <h2>Registre</h2>
                <h4>É professor? converse com seu coordenador</h4>
                <div class="form-group">
                    <input type="text" id="register_full_name" placeholder=" ">
                    <label for="register_full_name">Nome completo</label>
                </div>
                <div class="form-group">
                    <input type="email" id="register_email" placeholder=" ">
                    <label for="register_email">E-mail @fam.br</label>
                </div>
                <div class="form-group password-container">
                    <input type="password" id="register_password" placeholder=" ">
                    <label for="register_password">Senha</label>
                    <i class="fa-solid fa-eye toggle-password" onclick="togglePasswordVisibility('register_password', this)"></i>
                </div>
            
                <!-- Confirm Password Input -->
                <div class="form-group password-container">
                    <input type="password" id="register_confirm_password" placeholder=" ">
                    <label for="register_confirm_password">Confirmar senha</label>
                    <i class="fa-solid fa-eye toggle-password" onclick="togglePasswordVisibility('register_confirm_password', this)"></i>
                </div>
                <select id="register_departamento_nome">
                    <option value="">Selecione um departamento</option>
                    <option value="ATENDIMENTO">Atendimento</option>
                    <option value="BIBLIOTECA">Biblioteca</option>
                    <option value="CFA">CFA</option>
                    <option value="COMPRAS">Compras</option>
                    <option value="COORDENAÇÃO">Coordenação</option>
                    <option value="CPA">CPA</option>
                    <option value="DIREÇÃO ACADÊMICA">Direção Acadêmica</option>
                    <option value="DOCENTE">Docente</option>
                    <option value="EAD">EAD</option>
                    <option value="EDUCAÇÃO FÍSICA">Educação física</option>
                    <option value="ENFERMAGEM">Enfermagem</option>
                    <option value="FINANCEIRO GERAL">Financeiro geral</option>
                    <option value="HOSPITAL VETERINÁRIO">Hospital veterinário</option>
                    <option value="INFORMÁTICA">Informática</option>
                    <option value="LABORATÓRIO">Laboratório</option>
                    <option value="LIMPEZA">Limpeza</option>
                    <option value="MANUTENÇÃO">Manutenção</option>
                    <option value="NICOM">NICOM</option>
                    <option value="NPJ">NPJ</option>
                    <option value="PORTARIA">Portaria</option>
                    <option value="RECEPÇÃO/MANTENEDORA">Recepção/Mantenedora</option>
                    <option value="RH">RH</option>
                    <option value="S.I.A.">S.I.A.</option>
                    <option value="SECRETARIA">Secretaria</option>
                    <option value="SUPERVISAO">Supervisao</option>
                </select>
                <div class="botoescontainerregistrar">
                    <button onclick="register()">Criar conta</button>
                    <!-- Botão para alternar para o formulário de login -->
                    <button id="toggleFormButtonLogin" onclick="toggleForm()">Voltar</button>
                </div>
            </div>
        </div>
    </div>
</body>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>


<!-- Our script must be loaded after firebase references -->
<script src="index.js"></script>

</html>